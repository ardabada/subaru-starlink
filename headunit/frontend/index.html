<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="css/styles.css" media="screen">
    <link rel="stylesheet" href="css/theme_dark.css" media="screen">
    <link rel="stylesheet" href="css/theme_light.css" media="screen">
    <script src="js/loader.js"></script>
    <script>
        onload = function() {
            var scripts = [
                'js/ui.js',
                'js/smartaccess.dev.js',
                'js/lib/jquery/jquery-2.1.0.min.js',
                'js/lang/lang.js',
                'js/lang/lang_ru.js',
                'js/lang/lang_ro.js',
                'js/lang/lang_en.js',
                'js/lib/polyfill/misc.js', 
                'js/lib/polyfill/polyfill.min.js', 
                'js/lib/polyfill/webcomponents-bundle.js',
                'js/lib/openlayers/ol.js',
                'js/themes/theme_light.js',
                'js/themes/theme_light.js',
                'js/map.js',
                'js/navigation.js',
                'js/index.js' ];
            Loader.lazyload(scripts, function(i) {
                if (i == 1) {
                    //appInit();
                }
                UI.GlobalLoading.setProgress((i + 1) * 100 / scripts.length);
            }, function() {
                App.handleAllScriptsLoaded();
            }, function(i) {
                console.log('failed to load ' + scripts[i]);
            });
        }

        function appInit() {
            var plugin = document.getElementById("plugin");
            SmartAccess.init(plugin, SmartAccess.AppType.NORMAL);
            var browser = SmartAccess.Browser.getInstance();
            browser.notifyLaunched(true);
        }

        function output(text) {
            // document.getElementById('output').innerHTML += text + '. '; //'<p style="margin:0;font-size:15px;">' + text + '</p>';
        }
    </script>
</head>
<body class="theme-light">
	<object type="application/NaviNativeAPI" id="plugin" width="0" height="0"></object>
    <div class="global-error" style="display:none;">
        <h1></h1>
        <h3></h3>
        <div class="button_wrapper">
            <input type="button" value="" />
        </div>
    </div>
    <div class="global-loading">
        <div class="progress-bar"><div class="filler" width="0px;"></div></div>
    </div>
    <!-- <div id="output"></div> -->
    <div id="map"></div>
</body>
</html>